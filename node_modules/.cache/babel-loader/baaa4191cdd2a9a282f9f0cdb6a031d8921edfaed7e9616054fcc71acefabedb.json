{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Credits=_ref=>{let{addCredit,accountBalance}=_ref;const[newCreditDescription,setNewCreditDescription]=useState('');const[newCreditAmount,setNewCreditAmount]=useState('');const[credits,setCredits]=useState([]);useEffect(()=>{fetch('https://johnnylaicode.github.io/api/credits.json').then(response=>response.json()).then(data=>{setCredits(data);}).catch(error=>console.error('Error fetching credits:',error));},[]);const handleAddCredit=event=>{event.preventDefault();if(!newCreditDescription||!newCreditAmount){alert('Please enter both description and amount for the credit.');return;}addCredit(newCreditDescription,parseFloat(newCreditAmount));//update state\nsetCredits([...credits,{description:newCreditDescription,amount:parseFloat(newCreditAmount),date:new Date().toISOString().slice(0,10)}]);setNewCreditDescription('');setNewCreditAmount('');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Credits\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddCredit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Description:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newCreditDescription,onChange:e=>setNewCreditDescription(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Amount:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newCreditAmount,onChange:e=>setNewCreditAmount(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Credit\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h2\",{children:\"Credits List\"}),/*#__PURE__*/_jsx(\"ul\",{children:credits.map((credit,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",credit.description,\", \\xA0\",/*#__PURE__*/_jsx(\"strong\",{children:\"Amount:\"}),\" $\",credit.amount.toFixed(2),\", \\xA0\",/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",credit.date]},index))}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Account Balance:\"}),\" $\",accountBalance.toFixed(2)]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Return to Home\"})})]});};export default Credits;","map":{"version":3,"sources":["/home/ianclarke/iancode/webdev/Assignment-3-Bank-of-React/src/components/Credits.js"],"names":["React","useState","useEffect","Link","Credits","addCredit","accountBalance","newCreditDescription","setNewCreditDescription","newCreditAmount","setNewCreditAmount","credits","setCredits","fetch","then","response","json","data","catch","error","console","handleAddCredit","event","preventDefault","alert","parseFloat","description","amount","date","Date","toISOString","slice","e","target","value","map","credit","index","toFixed"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Credits = ({ addCredit, accountBalance }) => {\n  const [newCreditDescription, setNewCreditDescription] = useState('');\n  const [newCreditAmount, setNewCreditAmount] = useState('');\n  const [credits, setCredits] = useState([]);\n\n  useEffect(() => {\n    fetch('https://johnnylaicode.github.io/api/credits.json')\n      .then((response) => response.json())\n      .then((data) => {\n        setCredits(data);\n      })\n      .catch((error) => console.error('Error fetching credits:', error));\n  }, []);\n\n  const handleAddCredit = (event) => {\n    event.preventDefault();\n\n    if (!newCreditDescription || !newCreditAmount) {\n      alert('Please enter both description and amount for the credit.');\n      return;\n    }\n    addCredit(newCreditDescription, parseFloat(newCreditAmount));\n\n    //update state\n    setCredits([\n      ...credits,\n      {\n        description: newCreditDescription,\n        amount: parseFloat(newCreditAmount),\n        date: new Date().toISOString().slice(0, 10)\n      }\n    ]);\n\n    setNewCreditDescription('');\n    setNewCreditAmount('');\n  };\n\n  return (\n    <div>\n      <h1>Credits</h1>\n      <form onSubmit={handleAddCredit}>\n        <label>\n          Description:\n          <input\n            type=\"text\"\n            value={newCreditDescription}\n            onChange={(e) => setNewCreditDescription(e.target.value)}\n          />\n        </label>\n        <label>\n          Amount:\n          <input\n            type=\"number\"\n            value={newCreditAmount}\n            onChange={(e) => setNewCreditAmount(e.target.value)}\n          />\n        </label>\n        <button type=\"submit\">Add Credit</button>\n      </form>\n      <br />\n      <h2>Credits List</h2>\n      <ul>\n        {credits.map((credit, index) => (\n          <li key={index}>\n            <strong>Description:</strong> {credit.description}, &nbsp;\n            <strong>Amount:</strong> ${credit.amount.toFixed(2)}, &nbsp;\n            <strong>Date:</strong> {credit.date}\n          </li>\n        ))}\n      </ul>\n      <div>\n        <strong>Account Balance:</strong> ${accountBalance.toFixed(2)}\n      </div>\n      <div>\n        <Link to=\"/\">Return to Home</Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Credits;\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}